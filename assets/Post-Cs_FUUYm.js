import{r as o,u as M,ah as _,j as s,ai as O,g as v,L as i,p as r,U,aj as b,ak as B,al as T,am as H,an as L,ao as $,Z as z,_ as A,ap as I,aq as C,z as q}from"./index-DEM0URhJ.js";import{D as R,a as F,b as Z,c as G}from"./DialogCreateCommnet-v2Ut_Wbn.js";const{Dot:J,Heart:K,MessageSquare:Q}=q,X=({className:y,data:e})=>{var x,h,p,u,j,f,g,N;const[P,n]=o.useState(!1),[w,c]=o.useState(!1),[D,m]=o.useState(!1),[S,t]=o.useState(!1),{currentData:l}=M(),k=_(),E=e.likes.includes(l._id);return s.jsxs(s.Fragment,{children:[((x=e==null?void 0:e.fileUrls)==null?void 0:x.length)>0&&s.jsx(R,{open:P,onOpenChange:n,attachments:e.fileUrls}),s.jsx(O,{open:w,onOpenChange:c,postId:e==null?void 0:e._id}),s.jsx(F,{data:l,onOpenChange:m,open:D,postId:e._id}),s.jsx(Z,{data:e,onOpenChange:t,open:S}),s.jsx("div",{className:v("w-full flex items-center justify-between p-5",y),children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(i,{to:r.HOME+((h=e==null?void 0:e.postedBy)==null?void 0:h.userName),children:s.jsx(U,{avatarUrl:(p=e==null?void 0:e.postedBy)==null?void 0:p.avatarUrl,displayName:(u=e==null?void 0:e.postedBy)==null?void 0:u.displayName})})}),s.jsxs("div",{className:"flex-1 w-full space-y-5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs("div",{className:"flex w-full items-center",children:[s.jsx(b,{user:e==null?void 0:e.postedBy,children:s.jsx(i,{to:r.HOME+((j=e==null?void 0:e.postedBy)==null?void 0:j.userName),className:"text-sm font-medium hover:underline",children:(f=e==null?void 0:e.postedBy)==null?void 0:f.userName})}),s.jsx(J,{}),s.jsx(B,{delayDuration:300,children:s.jsxs(T,{children:[s.jsx(H,{asChild:!0,children:s.jsx(i,{to:`/${r.POSTS}/${e==null?void 0:e._id}`,className:"opacity-50",children:s.jsx("small",{children:L(e==null?void 0:e.createdAt)})})}),s.jsx($,{side:"bottom",align:"start",children:z(e==null?void 0:e.createdAt,"EEEE, d MMMM, yyyy, HH:mm",{locale:A})})]})})]}),s.jsx(G,{postId:e==null?void 0:e._id,setDeletePost:()=>c(!0),setEditPost:()=>t(!0),isEdit:(e==null?void 0:e.postedBy._id)===l._id,isCheckBookMark:l.bookmarkedPosts.includes(e==null?void 0:e._id)})]}),s.jsx(i,{to:`/${r.POSTS}/${e==null?void 0:e._id}`,className:"text-sm",children:e==null?void 0:e.context}),((g=e==null?void 0:e.fileUrls)==null?void 0:g.length)>0&&s.jsx(I,{attachments:e==null?void 0:e.fileUrls,onOpenChange:()=>n(!0)})]}),s.jsxs("div",{className:"flex gap-3 mt-1",children:[s.jsxs("div",{className:"flex gap-1 items-center cursor-pointer rounded-full hover:bg-muted p-2",onClick:()=>k.mutate(e._id),children:[s.jsx(K,{className:v("size-5",E&&"fill-red-500 text-red-500")}),s.jsx("small",{children:C((N=e==null?void 0:e.likes)==null?void 0:N.length)})]}),s.jsxs("div",{className:"flex gap-1 items-center cursor-pointer rounded-full hover:bg-muted p-2",onClick:()=>m(!0),children:[s.jsx(Q,{className:"size-5"}),s.jsx("small",{children:C(e.totalCountComment||0)})]})]})]})]})})]})};export{X as P};
