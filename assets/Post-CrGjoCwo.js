import{r as o,u as M,ah as _,j as s,ai as U,g as N,L as i,U as b,aj as B,ak as T,al as O,am as $,p as v,an as L,ao as z,Z as A,_ as H,ap as I,aq as C,z as q}from"./index-R1GuM6_P.js";import{D as R,a as F,b as Z,c as G}from"./DialogCreateCommnet-BI07AKAH.js";const{Dot:J,Heart:K,MessageSquare:Q}=q,X=({className:y,data:e})=>{var t,x,h,p,u,j,f,g;const[P,r]=o.useState(!1),[w,n]=o.useState(!1),[D,c]=o.useState(!1),[S,m]=o.useState(!1),{currentData:l}=M(),k=_(),E=e.likes.includes(l._id);return s.jsxs(s.Fragment,{children:[((t=e==null?void 0:e.fileUrls)==null?void 0:t.length)>0&&s.jsx(R,{open:P,onOpenChange:r,attachments:e.fileUrls}),s.jsx(U,{open:w,onOpenChange:n,postId:e==null?void 0:e._id}),s.jsx(F,{data:l,onOpenChange:c,open:D,postId:e._id}),s.jsx(Z,{data:e,onOpenChange:m,open:S}),s.jsx("div",{className:N("w-full flex items-center justify-between p-5",y),children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(i,{to:`/${(x=e==null?void 0:e.postedBy)==null?void 0:x.userName}`,children:s.jsx(b,{avatarUrl:(h=e==null?void 0:e.postedBy)==null?void 0:h.avatarUrl,displayName:(p=e==null?void 0:e.postedBy)==null?void 0:p.displayName})})}),s.jsxs("div",{className:"flex-1 w-full space-y-5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs("div",{className:"flex w-full items-center",children:[s.jsx(B,{user:e==null?void 0:e.postedBy,children:s.jsx(i,{to:`/${(u=e==null?void 0:e.postedBy)==null?void 0:u.userName}`,className:"text-sm font-medium hover:underline",children:(j=e==null?void 0:e.postedBy)==null?void 0:j.userName})}),s.jsx(J,{}),s.jsx(T,{delayDuration:300,children:s.jsxs(O,{children:[s.jsx($,{asChild:!0,children:s.jsx(i,{to:`/${v.POSTS}/${e==null?void 0:e._id}`,className:"opacity-50",children:s.jsx("small",{children:L(e==null?void 0:e.createdAt)})})}),s.jsx(z,{side:"bottom",align:"start",children:A(e==null?void 0:e.createdAt,"EEEE, d MMMM, yyyy, HH:mm",{locale:H})})]})})]}),s.jsx(G,{postId:e==null?void 0:e._id,setDeletePost:()=>n(!0),setEditPost:()=>m(!0),isEdit:(e==null?void 0:e.postedBy._id)===l._id,isCheckBookMark:l.bookmarkedPosts.includes(e==null?void 0:e._id)})]}),s.jsx(i,{to:`/${v.POSTS}/${e==null?void 0:e._id}`,className:"text-sm",children:e==null?void 0:e.context}),((f=e==null?void 0:e.fileUrls)==null?void 0:f.length)>0&&s.jsx(I,{attachments:e==null?void 0:e.fileUrls,onOpenChange:()=>r(!0)})]}),s.jsxs("div",{className:"flex gap-3 mt-1",children:[s.jsxs("div",{className:"flex gap-1 items-center cursor-pointer rounded-full hover:bg-muted p-2",onClick:()=>k.mutate(e._id),children:[s.jsx(K,{className:N("size-5",E&&"fill-red-500 text-red-500")}),s.jsx("small",{children:C((g=e==null?void 0:e.likes)==null?void 0:g.length)})]}),s.jsxs("div",{className:"flex gap-1 items-center cursor-pointer rounded-full hover:bg-muted p-2",onClick:()=>c(!0),children:[s.jsx(Q,{className:"size-5"}),s.jsx("small",{children:C(e.totalCountComment||0)})]})]})]})]})})]})};export{X as P};
